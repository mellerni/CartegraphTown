<div class='container'>
    <div>
        <div class="row">
            <div class="col-sm-12">
                <h1 class="pull-left">Address List</h1>
                <a class="btn btn-default btn-lg pull-right margin-top-20" role="button" [routerLink]="['/address-add']">
                    <span class="fa fa-map-marked-alt"></span>&nbsp;&nbsp;Add Address
                </a>
            </div>
        </div>
        <div class="row">
            <p *ngIf="loadingAddresses">
                <em>Loading...</em>
            </p>
            <p *ngIf="addresses && addresses.length === 0">
                <em>No addresses found.</em>
            </p>
            <div class="table-responsive hide-on-phone">
                <table class="table table-striped table-hover table-responsive" *ngIf="addresses && addresses.length > 0">
                    <thead>
                        <tr>
                            <th>Address 1</th>
                            <th>Address 2</th>
                            <th>City</th>
                            <th>State</th>
                            <th>Zip Code</th>
                            <th>Latitude</th>
                            <th>Longitude</th>
                            <th>Citizen's Location</th>
                            <th>Issue Count</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let address of addresses">
                            <td>{{ address.address1 }}</td>
                            <td>{{ address.address2 }}</td>
                            <td>{{ address.city }}</td>
                            <td>{{ address.state }}</td>
                            <td>{{ address.zipCode }}</td>
                            <td>{{ address.point.latitude | number : '1.4-4' }}</td>
                            <td>{{ address.point.longitude | number : '1.4-4' }}</td>
                            <td>{{ address.isCitizenLocation }}</td>
                            <td>{{ address.issueCount }}</td>
                            <td [routerLinkActive]="['link-active']">
                                <a class="btn btn-default btn-sm" role="button" [routerLink]="['/address-edit/' + address.id]">
                                    <span class="fa fa-pen"></span>&nbsp;&nbsp;Edit
                                </a>
                                <button class="btn btn-sm btn-danger" (click)="deleteAddress(address.id)" [disabled]="address.issueCount > 0 || address.isCitizenLocation" data-toggle="tooltip"
                                    data-placement="top" title="Can not be deleted if issues are present or a citizen's address.">
                                    <span class="fa fa-trash"></span>&nbsp;&nbsp;Delete
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div>
        <div class="row">
            <div class="col-sm-12">
                <h1 class="pull-left">Point List</h1>
                <a class="btn btn-default btn-lg pull-right margin-top-20" role="button" [routerLink]="['/point-add']">
                    <span class="fa fa-map-pin"></span>&nbsp;&nbsp;Add Point
                </a>
            </div>
        </div>
        <div class="row">
            <p *ngIf="loadingPoints">
                <em>Loading...</em>
            </p>
            <p *ngIf="points && points.length === 0">
                <em>No points found.</em>
            </p>
            <div class="table-responsive hide-on-phone">
                <table class="table table-striped table-hover table-responsive" *ngIf="points && points.length > 0">
                    <thead>
                        <tr>
                            <th>Latitude</th>
                            <th>Longitude</th>
                            <th>Citizen's Location</th>
                            <th>Issue Count</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let point of points">
                            <td>{{ point.latitude | number : '1.4-4' }}</td>
                            <td>{{ point.longitude | number : '1.4-4' }}</td>
                            <td>{{ point.isCitizenLocation }}</td>
                            <td>{{ point.issueCount }}</td>
                            <td [routerLinkActive]="['link-active']">
                                <a class="btn btn-default btn-sm" role="button" [routerLink]="['/point-edit/' + point.id]">
                                    <span class="fa fa-pen"></span>&nbsp;&nbsp;Edit
                                </a>
                                <button class="btn btn-sm btn-danger" (click)="deletePoint(point.id)" [disabled]="point.issueCount > 0 || point.isCitizenLocation" data-toggle="tooltip"
                                    data-placement="top" title="Can not be deleted if issues are present or a citizen's address.">
                                    <span class="fa fa-trash"></span>&nbsp;&nbsp;Delete
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="show-on-phone" *ngIf="(addresses && addresses.length > 0) || (points && points.length > 0)">
            <p>
                <em>Records found!</em>
                <br/>
                <em>However the width of your device to small to display the table.</em>
                <br/>
                <em>Try a different orientation or device. 700 px display is required</em>
            </p>
        </div>
    </div>

</div>